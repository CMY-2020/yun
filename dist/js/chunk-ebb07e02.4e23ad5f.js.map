{"version":3,"sources":["webpack:///./src/views/search/search.vue?48fd","webpack:///./src/views/search/search.vue?67a3","webpack:///./src/views/search/childrenCopms/searchDetail.vue?e4d9","webpack:///src/views/search/childrenCopms/searchDetail.vue","webpack:///./src/views/search/childrenCopms/searchDetail.vue?2ba6","webpack:///./src/views/search/childrenCopms/searchDetail.vue","webpack:///src/views/search/search.vue","webpack:///./src/views/search/search.vue?f246","webpack:///./src/views/search/search.vue?6b3e","webpack:///./node_modules/core-js/modules/es.string.trim.js","webpack:///./node_modules/core-js/internals/whitespaces.js","webpack:///./node_modules/core-js/internals/string-trim.js","webpack:///./node_modules/core-js/internals/string-trim-forced.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","backIndex","directives","name","rawName","value","expression","ref","attrs","hotSearchKey","domProps","$event","type","indexOf","_k","keyCode","key","searchDefaultKey","apply","arguments","target","composing","searchContent","clearSearchContent","_v","searchResultList","showDefault","showSearchDetail","historyList","_l","item","putSearch","_s","clearHistorySearch","class","_m","index","searchWord","iconUrl","_e","showSearchResult","id","toSearchDetail","staticRenderFns","handleChange","model","callback","$$v","active","data","titleList","mounted","handelActive","methods","$bus","$emit","sessionStorage","setItem","getItem","beforeDestroy","clear","component","components","searchDetail","hotSearch","isSend","keyWords","getSearch","saveSearchContent","setTimeout","vm","$router","push","e","innerHTML","trim","path","query","$refs","input","focus","splice","unshift","localStorage","$dialog","keys","$off","watch","$","$trim","forcedStringTrimMethod","proto","forced","module","exports","requireObjectCoercible","toString","whitespaces","whitespace","ltrim","RegExp","rtrim","createMethod","TYPE","$this","string","replace","start","end","fails","non","METHOD_NAME"],"mappings":"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","file":"js/chunk-ebb07e02.4e23ad5f.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./search.vue?vue&type=style&index=0&id=633f55f4&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"header\"},[_c('i',{staticClass:\"iconfont icon-arrowLeft\",on:{\"click\":_vm.backIndex}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchContent),expression:\"searchContent\"}],ref:\"input\",attrs:{\"placeholder\":_vm.hotSearchKey,\"type\":\"text\"},domProps:{\"value\":(_vm.searchContent)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.searchDefaultKey.apply(null, arguments)},\"input\":function($event){if($event.target.composing){ return; }_vm.searchContent=$event.target.value}}}),_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.searchContent.length),expression:\"searchContent.length\"}],staticClass:\"clear\",on:{\"click\":_vm.clearSearchContent}},[_vm._v(\"X\")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.searchResultList==''&& _vm.showDefault && !_vm.showSearchDetail),expression:\"searchResultList==''&& showDefault && !showSearchDetail\"}],staticClass:\"content\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.historyList== ''?false:true),expression:\"historyList== ''?false:true\"}],staticClass:\"history\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"历史\")]),_vm._l((_vm.historyList),function(item){return _c('div',{key:item,staticClass:\"item\",on:{\"click\":function($event){return _vm.putSearch($event)}}},[_vm._v(\" \"+_vm._s(item)+\" \")])}),_c('div',{staticClass:\"delete\",on:{\"click\":_vm.clearHistorySearch}},[_c('van-icon',{attrs:{\"name\":\"delete-o\"}})],1)],2),_c('div',{class:['hotSearch',_vm.historyList== ''?'active-margin':'']},[_vm._m(0),_c('el-card',_vm._l((_vm.hotSearch),function(item,index){return _c('div',{key:index,staticClass:\"hotSearchItem\",on:{\"click\":function($event){return _vm.putSearch($event)}}},[_c('span',{class:index + 1 == 1 || index + 1 == 2 || index + 1 == 3 ? 'index' : ''},[_vm._v(_vm._s(index + 1))]),_c('span',{staticClass:\"searchWord\"},[_vm._v(_vm._s(item.searchWord))]),(item.iconUrl)?_c('img',{attrs:{\"src\":item.iconUrl}}):_vm._e()])}),0)],1)]),_c('el-card',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.searchResultList!='' && _vm.showSearchResult&&_vm.searchContent!=''),expression:\"searchResultList!='' && showSearchResult&&searchContent!=''\"}],staticClass:\"result\"},_vm._l((_vm.searchResultList),function(item){return _c('div',{key:item.id,staticClass:\"item\",on:{\"click\":function($event){return _vm.toSearchDetail(item.name)}}},[_c('span',{staticClass:\"iconfont icon-search\"}),_c('span',[_vm._v(_vm._s(item.name))])])}),0),(_vm.showSearchDetail && _vm.searchResultList == '')?_c('searchDetail',{staticClass:\"search-detail\"}):_vm._e(),(_vm.showSearchDetail && _vm.searchResultList == '')?_c('router-view'):_vm._e()],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"title\"},[_c('label',[_vm._v(\"热搜榜\")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"searchDetail\"},[_c('van-tabs',{on:{\"click\":_vm.handleChange},model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},_vm._l((_vm.titleList),function(item){return _c('van-tab',{key:item.name,attrs:{\"title\":item.name,\"name\":item.id}})}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"searchDetail\">\r\n    <van-tabs @click=\"handleChange\" v-model=\"active\">\r\n      <van-tab\r\n        v-for=\"item in titleList\"\r\n        :title=\"item.name\"\r\n        :name=\"item.id\"\r\n        :key=\"item.name\"\r\n      >\r\n      </van-tab>\r\n    </van-tabs>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      titleList: [\r\n        { id: \"comprehensive\", name: \"综合\" },\r\n        { id: \"songDetail\", name: \"单曲\" },\r\n        { id: \"songListDetail\", name: \"歌单\" },\r\n        { id: \"videoDetail\", name: \"视频\" },\r\n        { id: \"singerDetail\", name: \"歌手\" },\r\n        { id: \"albumDetail\", name: \"专辑\" },\r\n        { id: \"userList\", name: \"用户\" },\r\n      ],\r\n      active: \"\",\r\n    };\r\n  },\r\n  // props:{\r\n  //     searchDetailList:{\r\n  //         type:Object\r\n  //     }\r\n  // },\r\n  mounted() {\r\n    this.handelActive();\r\n    // console.log(sessionStorage.getItem(\"activePage\"));\r\n  },\r\n  methods: {\r\n    handleChange(name) {\r\n      // this.$router.push('/'+name)\r\n      this.$bus.$emit(\"handleChange\", name);\r\n      sessionStorage.setItem(\"activePage\", this.active)\r\n    },\r\n\r\n    /* 解决刷新页面tabbar激活与实际页面不符问题 */\r\n    handelActive() {\r\n      if (sessionStorage.getItem(\"activePage\")) {\r\n        this.active = sessionStorage.getItem(\"activePage\", this.active);\r\n      } else {\r\n        this.active = \"comprehensive\";\r\n      }\r\n    },\r\n  },\r\n  beforeDestroy() {\r\n    sessionStorage.clear('activePage')\r\n    // console.log(sessionStorage.getItem(\"activePage\"));\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./searchDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./searchDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./searchDetail.vue?vue&type=template&id=22690af5&scoped=true&\"\nimport script from \"./searchDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./searchDetail.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"22690af5\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"container\">\r\n    <div class=\"header\">\r\n      <i @click=\"backIndex\" class=\"iconfont icon-arrowLeft\"></i>\r\n      <input\r\n        @keyup.enter=\"searchDefaultKey\"\r\n        :placeholder=\"hotSearchKey\"\r\n        type=\"text\"\r\n        ref=\"input\"\r\n        v-model=\"searchContent\"\r\n      />\r\n      <i @click=\"clearSearchContent\" v-show=\"searchContent.length\" class=\"clear\"\r\n        >X</i\r\n      >\r\n    </div>\r\n    <div class=\"content\" v-show=\"searchResultList==''&& showDefault && !showSearchDetail\">\r\n      <div v-show=\"historyList== ''?false:true\" class=\"history\">\r\n      <div class=\"title\">历史</div>\r\n      <div\r\n        v-for=\"item in historyList\"\r\n        :key=\"item\"\r\n        @click=\"putSearch($event)\"\r\n        class=\"item\"\r\n      >\r\n        {{ item }}\r\n      </div>\r\n      <div @click=\"clearHistorySearch\" class=\"delete\">\r\n        <van-icon name=\"delete-o\" />\r\n      </div>\r\n    </div>\r\n    <div :class=\"['hotSearch',historyList== ''?'active-margin':'']\">\r\n      <div class=\"title\">\r\n        <label>热搜榜</label>\r\n      </div>\r\n      <el-card>\r\n        <div\r\n          @click=\"putSearch($event)\"\r\n          v-for=\"(item, index) in hotSearch\"\r\n          :key=\"index\"\r\n          class=\"hotSearchItem\"\r\n        >\r\n          <span\r\n            :class=\"\r\n              index + 1 == 1 || index + 1 == 2 || index + 1 == 3 ? 'index' : ''\r\n            \"\r\n            >{{ index + 1 }}</span\r\n          >\r\n          <span class=\"searchWord\">{{ item.searchWord }}</span>\r\n          <img v-if=\"item.iconUrl\" :src=\"item.iconUrl\" />\r\n        </div>\r\n      </el-card>\r\n    </div>\r\n    </div>\r\n    <el-card v-show=\"searchResultList!='' && showSearchResult&&searchContent!=''\" class=\"result\">\r\n      <div @click=\"toSearchDetail(item.name)\" v-for=\"item in searchResultList\" :key=\"item.id\"  class=\"item\">\r\n      <span class=\"iconfont icon-search\"></span>\r\n      <span>{{item.name}}</span>\r\n    </div>\r\n    </el-card>\r\n    <!-- searchDetail -->\r\n    <searchDetail v-if=\"showSearchDetail && searchResultList == ''\" class=\"search-detail\" />\r\n    \r\n    <router-view v-if=\"showSearchDetail && searchResultList == ''\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getDefaultKey, getHotSearch, getSearchResult } from \"../../NetRequest/search\";\r\nimport searchDetail from \"./childrenCopms/searchDetail\"\r\nexport default {\r\n  components:{\r\n    searchDetail\r\n  },\r\n  data() {\r\n    return {\r\n      searchContent: \"\",\r\n      hotSearchKey: \"\",\r\n      historyList: [],\r\n      hotSearch: [],\r\n      isSend:false,\r\n      searchResultList:[],\r\n      showDefault:true,\r\n      showSearchDetail:false,\r\n      showSearchResult:true,\r\n      keyWords:'',\r\n    };\r\n  },\r\n  async mounted() {\r\n    // console.log(this.$store.state.showSearchDetail);\r\n    let historyList = localStorage.getItem(\"historyList\");\r\n    if (historyList) {\r\n      this.historyList = historyList.split(\",\");\r\n    }\r\n\r\n    /* 获取默认搜索关键字 */\r\n    let localData1 = JSON.parse(localStorage.getItem(\"hotSearchKey\"))\r\n    if (localData1) {\r\n      // console.log(\"使用缓存数据\");\r\n      this.hotSearchKey = localData1;\r\n    } else {\r\n      const res1 = await getDefaultKey()\r\n      // console.log(res);\r\n      // console.log(\"使用请求数据\");\r\n      this.hotSearchKey = res1.data.data.showKeyword;\r\n      localStorage.setItem(\"hotSearchKey\", JSON.stringify(this.hotSearchKey));\r\n    }\r\n    \r\n\r\n    /* 获取热搜榜 */\r\n    let localData = JSON.parse(localStorage.getItem(\"hotSearch\"))\r\n    if (localData) {\r\n      // console.log(\"使用缓存数据\");\r\n      this.hotSearch = localData;\r\n    } else {\r\n      const res = await getHotSearch()\r\n        // console.log(res);\r\n        for (const item of res.data.data) {\r\n          this.hotSearch.push({\r\n            searchWord: item.searchWord,\r\n            iconUrl: item.iconUrl,\r\n          });\r\n        }\r\n        localStorage.setItem(\"hotSearch\", JSON.stringify(this.hotSearch));\r\n    }\r\n\r\n    this.$bus.$on('handleChange',this.handleChange)\r\n  },\r\n  methods: {\r\n    /* 获取搜索内容 */\r\n    getSearch() {\r\n      // console.log(\"@@@\");\r\n      if(this.isSend){\r\n        return\r\n      }\r\n      this.isSend = true\r\n      getSearchResult(this.searchContent,10,'',1).then(res=>{\r\n        // console.log(res);\r\n        // console.log('发送请求了');\r\n        this.searchResultList = []\r\n        for(const item of res.data.result.songs){\r\n          this.searchResultList.push({\r\n            id:item.id,\r\n            name:item.name,\r\n          })\r\n        } \r\n      })\r\n      this.saveSearchContent()\r\n      //函数节流\r\n      let vm = this\r\n      setTimeout( () => {\r\n        vm.isSend = false;\r\n    }, 1000)\r\n    },\r\n\r\n    /* 返回首页 */\r\n    backIndex() {\r\n      if(this.showSearchDetail){\r\n        // this.$store.commit('showSearchDetail')\r\n        this.showSearchDetail = false\r\n        this.showDefault = true\r\n        this.showSearchResult = true\r\n      }else{\r\n        this.$router.push('/');\r\n      }\r\n    },\r\n\r\n    /* 点击历史搜索和热搜榜事件 */\r\n    putSearch(e) {\r\n      this.showSearchResult = false\r\n      this.searchContent = e.target.innerHTML.trim()\r\n      // this.searchResultList = ''\r\n      this.showSearchDetail = true\r\n      this.$router.push({\r\n        path:'/search/comprehensive',\r\n        query:{\r\n          key: this.searchContent\r\n        }\r\n        })\r\n      // console.log(e.target.innerHTML);\r\n      this.$refs.input.focus();\r\n      this.saveSearchContent()\r\n    },\r\n\r\n    /* 将搜索内容存到本地 */\r\n    saveSearchContent() {\r\n      if (this.historyList.indexOf(this.searchContent.trim()) !== -1) {\r\n        this.historyList.splice(this.historyList.indexOf(this.searchContent), 1);\r\n        // console.log('!!!');\r\n      }\r\n      this.historyList.unshift(this.searchContent);\r\n      localStorage.setItem(\"historyList\", this.historyList);\r\n    },\r\n\r\n    /* 清空输入框 */\r\n    clearSearchContent() {\r\n      this.searchContent = \"\"\r\n      this.showSearchResult = false\r\n      this.showDefault = true\r\n      this.searchResultList = ''\r\n      this.$refs.input.focus()\r\n      this.searchResultList = ''\r\n      this.showSearchDetail = false\r\n      // this.$store.commit('showSearchDetail')\r\n      // console.log(this.$store.state.showSearchDetail)\r\n    },\r\n\r\n    /* 清空历史搜索 */\r\n    clearHistorySearch() {\r\n      this.$dialog\r\n        .confirm({\r\n          title: \"提示\",\r\n          message: \"您确认清空所有搜索记录？\",\r\n        })\r\n        .then(() => {\r\n          // on confirm\r\n          // console.log(\"确认\");\r\n          this.historyList = [];\r\n          localStorage.clear(\"historyList\");\r\n        })\r\n        .catch(() => {\r\n          // on cancel\r\n          // console.log(\"取消\");\r\n        });\r\n    },\r\n\r\n    /* 搜索，默认关键字 */\r\n    searchDefaultKey() {\r\n      if (!this.searchContent.trim()) {\r\n        this.searchContent = this.hotSearchKey;\r\n      }\r\n    },\r\n\r\n    /* 跳转到搜索详情页面 */\r\n    toSearchDetail(keyWords){\r\n      // console.log(\"111\",keyWords);\r\n      this.keyWords = keyWords\r\n      // this.showDefault = true\r\n      this.searchResultList = ''\r\n      this.showSearchDetail = true\r\n      // this.$store.commit('showSearchDetail')\r\n      // console.log(this.$store.state.showSearchDetail)\r\n      this.$router.push({\r\n        path:'/search/comprehensive',\r\n        query:{\r\n          key: this.keyWords\r\n        }\r\n        })\r\n      // this.$bus.$emit('getSearchData',keyWords)\r\n    },\r\n\r\n    /* 切换详情页面 */\r\n    handleChange(page){\r\n      // console.log(page);\r\n      // this.$router.push('/search/' + page)\r\n      let keys = ''\r\n      if(this.keyWords==''){\r\n        keys = this.searchContent\r\n      }else{\r\n        keys = this.keyWords\r\n      }\r\n      this.$router.push({\r\n        path:'/search/' + page,\r\n        query:{\r\n          key: keys\r\n        }\r\n        })\r\n    }\r\n  },\r\n  beforeDestroy() {\r\n    this.$bus.$off('handleChang')\r\n  },\r\n  watch: {\r\n    searchContent() {\r\n      if (this.searchContent.trim() && \r\n      this.showSearchResult) {\r\n        this.getSearch();\r\n      }else{\r\n      this.showSearchResult = true\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.header {\r\n  position: fixed;\r\n  top: 0px;\r\n  left: 0px;\r\n  padding-top: 15px;\r\n  padding-left: 15px;\r\n  display: flex;\r\n  width: 100%;\r\n  background-color: #fff;\r\n  z-index: 9;\r\n}\r\n.header input {\r\n  position: relative;\r\n  border: none;\r\n  width: 80%;\r\n  border-bottom: 2px #999 solid;\r\n}\r\n.content{\r\n  margin-top: 60px;\r\n}\r\n.fixedContent{\r\n  position: fixed;\r\n  overflow: hidden;\r\n}\r\n.clear {\r\n  position: absolute;\r\n  right: 25px;\r\n  color: #999;\r\n}\r\n.header i {\r\n  font-size: 25px;\r\n  margin-right: 10px;\r\n  margin-top: 5px;\r\n}\r\n.hotSearch {\r\n  margin-top: 15px;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n}\r\n.active-margin{\r\n  margin-top: 60px;\r\n}\r\n.hotSearch .title {\r\n  width: 100%;\r\n}\r\n.el-card {\r\n  margin-top: 10px;\r\n}\r\n.hotSearchItem {\r\n  display: inline-block;\r\n  width: 45%;\r\n  height: 30px;\r\n  padding: 10px 0px 10px 0;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n}\r\n.hotSearchItem span {\r\n  margin-right: 10px;\r\n}\r\n.hotSearchItem img {\r\n  width: 20px;\r\n  height: 15px;\r\n}\r\n.index {\r\n  color: red;\r\n}\r\n.history {\r\n  position: relative;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  max-height: 60px;\r\n  margin-top: 60px;\r\n  overflow: hidden;\r\n}\r\n.history .title {\r\n  font-style: 28px;\r\n}\r\n.history .item {\r\n  height: 25px;\r\n  font-style: 13px;\r\n  background: #ededed;\r\n  margin-left: 10px;\r\n  padding: 0 10px;\r\n  border-radius: 10px;\r\n  margin-bottom: 10px;\r\n}\r\n.delete{\r\n  position: absolute;\r\n  right: 0px;\r\n  bottom: 0px;\r\n  width: 30px;\r\n  height: 30px;\r\n  background-color: #fff;\r\n}\r\n.van-icon {\r\n  font-size: 25px;\r\n}\r\n.result{\r\n  margin-top: 60px;\r\n}\r\n.result .item{\r\n  margin-bottom: 30px;\r\n  display: flex;\r\n  justify-content: left;\r\n  /* background-color: aqua; */\r\n}\r\n.result .icon-search{\r\n font-size: 20px;\r\n}\r\n.search-detail{\r\n  position: fixed;\r\n  width: 100%;\r\n  top: 40px;\r\n  left: 0;\r\n  padding-top: 15px;\r\n  padding-bottom: 10px;\r\n  background-color: #fff;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./search.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./search.vue?vue&type=template&id=633f55f4&scoped=true&\"\nimport script from \"./search.vue?vue&type=script&lang=js&\"\nexport * from \"./search.vue?vue&type=script&lang=js&\"\nimport style0 from \"./search.vue?vue&type=style&index=0&id=633f55f4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"633f55f4\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.es/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n","// a string of all valid unicode whitespaces\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002' +\n  '\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar toString = require('../internals/to-string');\nvar whitespaces = require('../internals/whitespaces');\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = toString(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.es/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","var fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]() || non[METHOD_NAME]() != non || whitespaces[METHOD_NAME].name !== METHOD_NAME;\n  });\n};\n"],"sourceRoot":""}