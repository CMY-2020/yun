(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8b5c91b0"],{1358:function(t,e,s){"use strict";s("1ff6")},"1ff6":function(t,e,s){},"30a5":function(t,e,s){},"3d4f":function(t,e,s){"use strict";s("61f0")},"43d3":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"palyMv",style:{height:t.screenHeight+"px"}},[s("div",{staticClass:"header"},[s("span",{staticClass:"iconfont icon-arrowLeft",on:{click:t.back}}),s("span",{staticClass:"iconfont icon-MV"}),t._m(0)]),s("div",{staticClass:"video"},[s("video",{attrs:{id:"video",autoplay:"",controls:"",preload:"",src:t.mvUrl,height:"230",width:"100%"}}),t._m(1)]),s("div",{staticClass:"icon"},[s("span",{staticClass:"iconfont icon-dianzan1"}),s("br"),s("span",[t._v(t._s(t.likedCount))]),s("br"),s("span",{staticClass:"iconfont icon-pinglun1"}),s("br"),s("span",[t._v(t._s(t.commentCount))]),s("br"),s("span",{staticClass:"iconfont icon-fenxiang2"}),s("br"),s("span",[t._v(t._s(t.shareCount))]),s("br"),t._m(2),s("span",[t._v("收藏")])]),s("div",{staticClass:"info"},[s("div",{staticClass:"auther"},[s("img",{staticClass:"avator",attrs:{src:t.avatarUrl+"?param=100y100",alt:""}}),t._v("  "),s("p",{staticClass:"artistName"},[t._v(t._s(t.mvInfo.artistName))])]),s("br"),s("p",{staticClass:"name"},[t._v(t._s(t.mvInfo.name))]),s("br"),s("span",{staticClass:"count"},[t._v(t._s(t.mvInfo.playCount)+"次观看")])]),s("div",{staticClass:"divider"}),s("div",{staticClass:"footer"},[s("span",{staticClass:"iconfont icon-xin"}),s("p",{staticClass:"name2"},[t._v(t._s(t.mvInfo.name)+"-"+t._s(t.mvInfo.artistName))])])])},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"right"},[s("span",{staticClass:"iconfont icon-xiaoping"}),s("span",{staticClass:"iconfont icon-liebiao-dian"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"fz"},[s("span",{staticClass:"iconfont icon-fanzhuanpingmu"}),s("br")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"iconfont icon-tianjiashoucang"},[s("br")])}],i=s("1da1"),r=(s("96cf"),s("fd5d")),o=s("ff51"),c=s("08de"),l={data:function(){return{screenHeight:"",avatarUrl:"",mvInfo:[],shareCount:"",commentCount:"",likedCount:"",mvUrl:"",isSend:!1}},mounted:function(){window.onresize=function(){this.screenHeight=window.screen.height},this.mvInfo=this.$store.state.palyMvInfo},methods:{getData:function(){this.getUserAvatar(),this.getMVInfoData(),this.getMVUrlData()},back:function(){this.$store.state.showPlayMv=!1,this.$bus.$emit("closeModle"),this.isSend=!0,this.$store.state.showControlBar=!0},getUserAvatar:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(c["a"])(t.mvInfo.id);case 3:s=e.sent,a=s.data,t.avatarUrl=a.profile.avatarUrl,e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log("用户头像请求失败，已启用默认头像"),t.avatarUrl="https://img0.baidu.com/it/u=797324285,1943411797&fm=26&fmt=auto&gp=0.jpg";case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()},getMVInfoData:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["a"])(t.mvInfo.id);case 2:s=e.sent,t.likedCount=Object(o["b"])(s.data.likedCount),t.commentCount=Object(o["b"])(s.data.commentCount),t.shareCount=Object(o["b"])(s.data.shareCount);case 6:case"end":return e.stop()}}),e)})))()},getMVUrlData:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["c"])(t.mvInfo.id);case 2:s=e.sent,t.mvUrl=s.data.data.url;case 4:case"end":return e.stop()}}),e)})))()}},beforeDestroy:function(){},computed:{isPlayMv:function(){return this.$store.state.showPlayMv}},watch:{isPlayMv:function(){if(this.mvInfo=this.$store.state.palyMvInfo,!this.$store.state.showPlayMv){var t=document.querySelector("#video");t.pause()}}}},u=l,d=(s("fb13"),s("2877")),f=Object(d["a"])(u,a,n,!1,null,"3c4719a4",null);e["a"]=f.exports},"61f0":function(t,e,s){},"72b5":function(t,e,s){"use strict";s("30a5")},"8eb8":function(t,e,s){"use strict";s("a303")},9148:function(t,e,s){"use strict";s.d(e,"c",(function(){return n})),s.d(e,"b",(function(){return i})),s.d(e,"d",(function(){return r})),s.d(e,"a",(function(){return o})),s.d(e,"e",(function(){return c}));var a=s("23a8");function n(t){return Object(a["a"])({url:"/artist/detail",params:{id:t}})}function i(t,e,s){return Object(a["a"])({url:"/artist/list",params:{type:t,area:e,initial:s}})}function r(t){return Object(a["a"])({url:"/artist/top/song",params:{id:t}})}function o(t,e){return Object(a["a"])({url:"/artist/album",params:{id:t,limit:e}})}function c(t){return Object(a["a"])({url:"/artist/mv",params:{id:t}})}},a15b:function(t,e,s){"use strict";var a=s("23e7"),n=s("44ad"),i=s("fc6a"),r=s("a640"),o=[].join,c=n!=Object,l=r("join",",");a({target:"Array",proto:!0,forced:c||!l},{join:function(t){return o.call(i(this),void 0===t?",":t)}})},a303:function(t,e,s){},a640:function(t,e,s){"use strict";var a=s("d039");t.exports=function(t,e){var s=[][t];return!!s&&a((function(){s.call(null,e||function(){throw 1},1)}))}},d9e4:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"singerDetail"},[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.$store.state.showPlayMv,expression:"!$store.state.showPlayMv"}],class:["header",t.changeColor?"changeColor":""]},[s("span",{staticClass:"iconfont icon-arrowLeft",on:{click:t.back}}),s("span",{staticClass:"iconfont icon-liebiao-dian"})]),s("div",{staticClass:"img"},[s("img",{attrs:{src:t.picUrl+"?param=500y500",alt:""}})]),s("el-card",{staticClass:"card"},[s("h3",[t._v(t._s(t.name))]),s("span",[t._v(t._s(t.imageDesc))]),s("div",{staticClass:"focus"},[t._v("+关注")])]),s("div",{staticClass:"navtab"},[s("van-tabs",{attrs:{sticky:"","offset-top":"50"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[s("van-tab",{attrs:{title:"歌曲",name:"歌曲"}},[s("song",{staticClass:"song"})],1),s("van-tab",{attrs:{title:"专辑",name:"专辑"}},[s("album")],1),s("van-tab",{attrs:{title:"MV",name:"MV"}},[s("Mv")],1)],1)],1)],1)},n=[],i=s("1da1"),r=(s("96cf"),s("b0c0"),s("9148")),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"songs"},[s("div",{staticClass:"playBtn"},[s("div",{staticClass:"left"},[s("div",{staticClass:"left-icon"},[s("span",{staticClass:"iconfont icon-caret_right",on:{click:t.playAll}})]),s("span",[t._v("播放全部")]),s("span",{staticClass:"list-count"},[t._v("("+t._s(t.songList.length)+")")])]),t._m(0)]),t._l(t.songList,(function(e,a){return s("div",{key:a,staticClass:"song"},[s("div",{staticClass:"item"},[s("div",{staticClass:"left",on:{click:function(s){return t.playThis(e.id,a)}}},[s("div",{staticClass:"text"},[s("span",[t._v(t._s(a+1))])]),s("div",{staticClass:"track"},[s("p",{staticClass:"name"},[t._v(t._s(e.name))]),s("p",{staticClass:"singer"},[t._v(t._s(t.artistsList[a]))])])]),t._m(1,!0)])])})),""!=t.songList?s("div",{staticClass:"more"},[t._v("查看更多请前往网易云APP~~")]):t._e()],2)},c=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"right"},[s("span",{staticClass:"iconfont icon-download"}),s("span",{staticClass:"iconfont icon-icon-test"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"icon"},[s("span",{staticClass:"iconfont icon-bofang"}),s("span",{staticClass:"iconfont icon-liebiao-dian"})])}],l=s("b85c"),u=(s("a15b"),s("ff51")),d={data:function(){return{songList:[],singerId:"",artistsList:[],hasClcikMusicId:""}},mounted:function(){this.singerId=this.$store.state.singerId,this.getSingerHotSongsData()},methods:{getSingerHotSongsData:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s,a,n,i,o,c,u,d,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["d"])(t.singerId);case 2:s=e.sent,a=Object(l["a"])(s.data.songs);try{for(a.s();!(n=a.n()).done;)i=n.value,t.songList.push({id:i.id,name:i.name,artists:i.ar[0].name,picUrl:i.al.picUrl})}catch(v){a.e(v)}finally{a.f()}for(o=0;o<t.songList.length;o++){c=[],u=Object(l["a"])(s.data.songs[o].ar);try{for(u.s();!(d=u.n()).done;)f=d.value,c.push(f.name),t.artistsList[o]=c.join(" / ")}catch(v){u.e(v)}finally{u.f()}}case 6:case"end":return e.stop()}}),e)})))()},playThis:function(t,e){this.$store.state.playShow=!0;var s=Object(u["a"])(this.$store.state.playList,"id",t);if(-1!=s){if(this.hasClcikMusicId==t)return;this.$bus.$emit("receiveMusicId",t,s)}else{var a=this.$store.state.playList.length;this.$store.state.playList.push(this.songList[e]),this.$bus.$emit("receiveMusicId",t,a),this.hasClcikMusicId=t}},playAll:function(){var t=this;this.$store.state.playList=this.songList,this.$toast("已添加到播放列表"),setTimeout((function(){t.$store.state.playShow=!0,t.$bus.$emit("receiveMusicId",t.songList[0].id,0)}),1e3),localStorage.removeItem("newSong"),localStorage.setItem("newSong",JSON.stringify(this.songList))}}},f=d,v=(s("1358"),s("2877")),m=Object(v["a"])(f,o,c,!1,null,"25f7dad9",null),h=m.exports,p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"album"},[""==t.albumList?s("van-loading",{staticClass:"loading",attrs:{"text-color":"#999",color:"red",type:"spinner",size:"24px"}},[t._v("正在加载...")]):t._e(),t._l(t.albumList,(function(e){return s("div",{key:e.id,staticClass:"ablum-item"},[s("div",{staticClass:"img"},[s("img",{attrs:{src:e.picUrl+"?param=100y100"}})]),s("div",{staticClass:"ablum-text"},[s("p",{staticClass:"name"},[t._v(t._s(e.name))]),s("p",{staticClass:"info"},[t._v(" "+t._s(t._f("getTime")(e.publishTime,"YYYY-MM-DD"))+" ")])])])})),""!=t.albumList?s("div",{staticClass:"more"},[t._v(" 查看更多请前往网易云APP~~ ")]):t._e()],2)},g=[],b={data:function(){return{albumList:[],singerId:""}},mounted:function(){var t=this;this.singerId=this.$store.state.singerId,setTimeout((function(){t.getAlbumList()}),1e3)},methods:{getAlbumList:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s,a,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["a"])(t.singerId,20);case 2:s=e.sent,a=Object(l["a"])(s.data.hotAlbums);try{for(a.s();!(n=a.n()).done;)i=n.value,t.albumList.push({id:i.id,name:i.name,picUrl:i.picUrl,publishTime:i.publishTime})}catch(o){a.e(o)}finally{a.f()}case 5:case"end":return e.stop()}}),e)})))()}}},C=b,y=(s("3d4f"),Object(v["a"])(C,p,g,!1,null,"688ebedc",null)),_=y.exports,w=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mv"},[s("div",{staticClass:"content"},t._l(t.mvList,(function(e,a){return s("div",{key:e.id,staticClass:"item"},[s("img",{attrs:{src:e.picUrl+"?param=200y200"},on:{click:function(e){return t.playMv(a)}}}),s("p",[t._v(t._s(e.name))]),s("span",{staticClass:"time"},[t._v("03:54")]),s("span",{staticClass:"iconfont icon-caret-right"},[t._v(t._s(e.playCount))])])})),0),""!=t.mvList?s("div",{staticClass:"more"},[t._v(" 查看更多请前往网易云APP~~ ")]):t._e(),s("van-popup",{style:{height:"100%",width:"100%"},model:{value:t.$store.state.showPlayMv,callback:function(e){t.$set(t.$store.state,"showPlayMv",e)},expression:"$store.state.showPlayMv"}},[t.$store.state.showPlayMv?s("playMv",{ref:"getData"}):t._e()],1)],1)},$=[],M=s("43d3"),j={components:{playMv:M["a"]},data:function(){return{mvList:[],singerId:"",topOffset:""}},mounted:function(){this.singerId=this.$store.state.singerId,this.getSingerMvData(),this.$bus.$on("closeModle",this.closeModle)},methods:{getSingerMvData:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s,a,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["e"])(t.singerId);case 2:s=e.sent,a=Object(l["a"])(s.data.mvs);try{for(a.s();!(n=a.n()).done;)i=n.value,t.mvList.push({id:i.id,name:i.name,picUrl:i.imgurl,artistName:i.artistName,playCount:Object(u["b"])(i.playCount),duration:i.duration})}catch(o){a.e(o)}finally{a.f()}case 5:case"end":return e.stop()}}),e)})))()},playMv:function(t){var e=this;this.$store.state.isPlaying=!0,this.$bus.$emit("handlePlay"),this.$store.state.palyMvInfo=this.mvList[t],this.$store.state.showPlayMv=!0,this.stopBodyScroll(!0),setTimeout((function(){e.$refs.getData.getData()}),1500),document.body.addEventListener("touchmove",this.bodyScroll,{passive:!1}),document.querySelector("body").style.position="fixed",document.querySelector("body").style.width="100%",this.$store.state.showControlBar=!1},bodyScroll:function(t){t.preventDefault()},stopBodyScroll:function(t){var e=document.querySelector("body");t?(this.topOffset=window.scrollY,e.style.position="fixed",e.style.top=-this.topOffset+"px"):(e.style.position="",window.scrollTo(0,this.topOffset))},closeModle:function(){this.stopBodyScroll(!1),document.body.removeEventListener("touchmove",this.bodyScroll,{passive:!1}),document.querySelector("body").style.position="initial",document.querySelector("body").style.height="auto"}},beforeDestroy:function(){this.$bus.$off("closeModlecloseModle")}},O=j,I=(s("72b5"),Object(v["a"])(O,w,$,!1,null,"427e4c54",null)),x=I.exports,L={components:{song:h,album:_,Mv:x},data:function(){return{info:[],singerId:"",name:"",picUrl:"",imageDesc:"",activeName:"a",changeColor:!1}},mounted:function(){window.addEventListener("scroll",this.handleScrollx,!0),this.singerId=this.$store.state.singerId,this.getSingerDetailData()},methods:{handleScrollx:function(){window.pageYOffset>=400?this.changeColor=!0:this.changeColor=!1},back:function(){this.$router.go(-1)},getSingerDetailData:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["c"])(t.singerId);case 2:s=e.sent,a=s.data.data,t.name=a.artist.name,t.picUrl=a.artist.cover,t.imageDesc=a.identify.imageDesc;case 7:case"end":return e.stop()}}),e)})))()}},beforeDestroy:function(){window.removeEventListener("scroll",this.handleScrollx,!0)}},k=L,S=(s("8eb8"),Object(v["a"])(k,a,n,!1,null,"7490dd2a",null));e["default"]=S.exports},ee7c:function(t,e,s){},fb13:function(t,e,s){"use strict";s("ee7c")},fd5d:function(t,e,s){"use strict";s.d(e,"b",(function(){return n})),s.d(e,"a",(function(){return i})),s.d(e,"c",(function(){return r}));var a=s("23a8");function n(t,e,s){return Object(a["a"])({url:"/top/mv",params:{area:t,limit:e,offset:s}})}function i(t){return Object(a["a"])({url:"/mv/detail/info",params:{mvid:t}})}function r(t){return Object(a["a"])({url:"/mv/url",params:{id:t}})}}}]);
//# sourceMappingURL=chunk-8b5c91b0.666603fd.js.map